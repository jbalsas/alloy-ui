if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/aui-form-builder/aui-form-builder.js']) {
   __coverage__['build/aui-form-builder/aui-form-builder.js'] = {"path":"build/aui-form-builder/aui-form-builder.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":28},"end":{"line":1,"column":47}}},"2":{"name":"(anonymous_2)","line":53,"loc":{"start":{"line":53,"column":17},"end":{"line":53,"column":28}}},"3":{"name":"(anonymous_3)","line":75,"loc":{"start":{"line":75,"column":14},"end":{"line":75,"column":25}}},"4":{"name":"(anonymous_4)","line":89,"loc":{"start":{"line":89,"column":12},"end":{"line":89,"column":23}}},"5":{"name":"(anonymous_5)","line":110,"loc":{"start":{"line":110,"column":12},"end":{"line":110,"column":23}}},"6":{"name":"(anonymous_6)","line":121,"loc":{"start":{"line":121,"column":16},"end":{"line":121,"column":27}}},"7":{"name":"(anonymous_7)","line":139,"loc":{"start":{"line":139,"column":20},"end":{"line":139,"column":36}}},"8":{"name":"(anonymous_8)","line":150,"loc":{"start":{"line":150,"column":15},"end":{"line":150,"column":31}}},"9":{"name":"(anonymous_9)","line":161,"loc":{"start":{"line":161,"column":21},"end":{"line":161,"column":32}}},"10":{"name":"(anonymous_10)","line":172,"loc":{"start":{"line":172,"column":17},"end":{"line":172,"column":33}}},"11":{"name":"(anonymous_11)","line":182,"loc":{"start":{"line":182,"column":17},"end":{"line":182,"column":33}}},"12":{"name":"(anonymous_12)","line":212,"loc":{"start":{"line":212,"column":28},"end":{"line":212,"column":54}}},"13":{"name":"(anonymous_13)","line":229,"loc":{"start":{"line":229,"column":30},"end":{"line":229,"column":48}}},"14":{"name":"(anonymous_14)","line":251,"loc":{"start":{"line":251,"column":21},"end":{"line":251,"column":52}}},"15":{"name":"(anonymous_15)","line":261,"loc":{"start":{"line":261,"column":14},"end":{"line":261,"column":25}}},"16":{"name":"(anonymous_16)","line":279,"loc":{"start":{"line":279,"column":34},"end":{"line":279,"column":50}}},"17":{"name":"(anonymous_17)","line":292,"loc":{"start":{"line":292,"column":34},"end":{"line":292,"column":45}}},"18":{"name":"(anonymous_18)","line":303,"loc":{"start":{"line":303,"column":34},"end":{"line":303,"column":50}}},"19":{"name":"(anonymous_19)","line":336,"loc":{"start":{"line":336,"column":25},"end":{"line":336,"column":41}}},"20":{"name":"(anonymous_20)","line":364,"loc":{"start":{"line":364,"column":28},"end":{"line":364,"column":39}}},"21":{"name":"(anonymous_21)","line":375,"loc":{"start":{"line":375,"column":28},"end":{"line":375,"column":44}}},"22":{"name":"(anonymous_22)","line":393,"loc":{"start":{"line":393,"column":35},"end":{"line":393,"column":51}}},"23":{"name":"(anonymous_23)","line":407,"loc":{"start":{"line":407,"column":24},"end":{"line":407,"column":40}}},"24":{"name":"(anonymous_24)","line":417,"loc":{"start":{"line":417,"column":26},"end":{"line":417,"column":37}}},"25":{"name":"(anonymous_25)","line":429,"loc":{"start":{"line":429,"column":27},"end":{"line":429,"column":38}}},"26":{"name":"(anonymous_26)","line":442,"loc":{"start":{"line":442,"column":29},"end":{"line":442,"column":46}}},"27":{"name":"(anonymous_27)","line":464,"loc":{"start":{"line":464,"column":24},"end":{"line":464,"column":40}}},"28":{"name":"(anonymous_28)","line":477,"loc":{"start":{"line":477,"column":22},"end":{"line":477,"column":38}}},"29":{"name":"(anonymous_29)","line":490,"loc":{"start":{"line":490,"column":24},"end":{"line":490,"column":40}}},"30":{"name":"(anonymous_30)","line":503,"loc":{"start":{"line":503,"column":25},"end":{"line":503,"column":39}}},"31":{"name":"(anonymous_31)","line":514,"loc":{"start":{"line":514,"column":22},"end":{"line":514,"column":38}}},"32":{"name":"(anonymous_32)","line":524,"loc":{"start":{"line":524,"column":15},"end":{"line":524,"column":26}}},"33":{"name":"(anonymous_33)","line":535,"loc":{"start":{"line":535,"column":14},"end":{"line":535,"column":30}}},"34":{"name":"(anonymous_34)","line":563,"loc":{"start":{"line":563,"column":24},"end":{"line":563,"column":41}}},"35":{"name":"(anonymous_35)","line":576,"loc":{"start":{"line":576,"column":33},"end":{"line":576,"column":44}}},"36":{"name":"(anonymous_36)","line":588,"loc":{"start":{"line":588,"column":19},"end":{"line":588,"column":35}}},"37":{"name":"(anonymous_37)","line":601,"loc":{"start":{"line":601,"column":23},"end":{"line":601,"column":34}}},"38":{"name":"(anonymous_38)","line":620,"loc":{"start":{"line":620,"column":25},"end":{"line":620,"column":36}}},"39":{"name":"(anonymous_39)","line":624,"loc":{"start":{"line":624,"column":27},"end":{"line":624,"column":41}}},"40":{"name":"(anonymous_40)","line":625,"loc":{"start":{"line":625,"column":42},"end":{"line":625,"column":56}}},"41":{"name":"(anonymous_41)","line":646,"loc":{"start":{"line":646,"column":28},"end":{"line":646,"column":42}}},"42":{"name":"(anonymous_42)","line":659,"loc":{"start":{"line":659,"column":17},"end":{"line":659,"column":31}}},"43":{"name":"(anonymous_43)","line":662,"loc":{"start":{"line":662,"column":26},"end":{"line":662,"column":43}}},"44":{"name":"(anonymous_44)","line":684,"loc":{"start":{"line":684,"column":24},"end":{"line":684,"column":47}}},"45":{"name":"(anonymous_45)","line":726,"loc":{"start":{"line":726,"column":21},"end":{"line":726,"column":32}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":788,"column":3}},"2":{"start":{"line":9,"column":0},"end":{"line":18,"column":57}},"3":{"start":{"line":30,"column":0},"end":{"line":770,"column":3}},"4":{"start":{"line":54,"column":8},"end":{"line":54,"column":91}},"5":{"start":{"line":56,"column":8},"end":{"line":61,"column":10}},"6":{"start":{"line":63,"column":8},"end":{"line":63,"column":63}},"7":{"start":{"line":64,"column":8},"end":{"line":64,"column":59}},"8":{"start":{"line":66,"column":8},"end":{"line":66,"column":36}},"9":{"start":{"line":76,"column":8},"end":{"line":76,"column":47}},"10":{"start":{"line":78,"column":8},"end":{"line":78,"column":33}},"11":{"start":{"line":80,"column":8},"end":{"line":80,"column":35}},"12":{"start":{"line":90,"column":8},"end":{"line":91,"column":38}},"13":{"start":{"line":93,"column":8},"end":{"line":101,"column":10}},"14":{"start":{"line":111,"column":8},"end":{"line":111,"column":38}},"15":{"start":{"line":122,"column":8},"end":{"line":124,"column":9}},"16":{"start":{"line":123,"column":12},"end":{"line":123,"column":47}},"17":{"start":{"line":126,"column":8},"end":{"line":128,"column":9}},"18":{"start":{"line":127,"column":12},"end":{"line":127,"column":40}},"19":{"start":{"line":130,"column":8},"end":{"line":130,"column":57}},"20":{"start":{"line":140,"column":8},"end":{"line":140,"column":40}},"21":{"start":{"line":141,"column":8},"end":{"line":141,"column":31}},"22":{"start":{"line":151,"column":8},"end":{"line":151,"column":52}},"23":{"start":{"line":152,"column":8},"end":{"line":152,"column":67}},"24":{"start":{"line":162,"column":8},"end":{"line":162,"column":65}},"25":{"start":{"line":173,"column":8},"end":{"line":173,"column":60}},"26":{"start":{"line":183,"column":8},"end":{"line":186,"column":91}},"27":{"start":{"line":188,"column":8},"end":{"line":188,"column":39}},"28":{"start":{"line":190,"column":8},"end":{"line":200,"column":9}},"29":{"start":{"line":191,"column":12},"end":{"line":191,"column":101}},"30":{"start":{"line":192,"column":12},"end":{"line":192,"column":49}},"31":{"start":{"line":193,"column":12},"end":{"line":193,"column":102}},"32":{"start":{"line":196,"column":12},"end":{"line":196,"column":78}},"33":{"start":{"line":197,"column":12},"end":{"line":197,"column":42}},"34":{"start":{"line":198,"column":12},"end":{"line":198,"column":48}},"35":{"start":{"line":199,"column":12},"end":{"line":199,"column":76}},"36":{"start":{"line":202,"column":8},"end":{"line":202,"column":38}},"37":{"start":{"line":213,"column":8},"end":{"line":217,"column":9}},"38":{"start":{"line":214,"column":12},"end":{"line":214,"column":72}},"39":{"start":{"line":215,"column":12},"end":{"line":215,"column":100}},"40":{"start":{"line":216,"column":12},"end":{"line":216,"column":100}},"41":{"start":{"line":219,"column":8},"end":{"line":219,"column":55}},"42":{"start":{"line":230,"column":8},"end":{"line":230,"column":14}},"43":{"start":{"line":232,"column":8},"end":{"line":239,"column":9}},"44":{"start":{"line":233,"column":12},"end":{"line":238,"column":14}},"45":{"start":{"line":252,"column":8},"end":{"line":252,"column":44}},"46":{"start":{"line":262,"column":8},"end":{"line":262,"column":42}},"47":{"start":{"line":263,"column":8},"end":{"line":267,"column":11}},"48":{"start":{"line":269,"column":8},"end":{"line":269,"column":32}},"49":{"start":{"line":270,"column":8},"end":{"line":270,"column":37}},"50":{"start":{"line":280,"column":8},"end":{"line":281,"column":53}},"51":{"start":{"line":283,"column":8},"end":{"line":283,"column":46}},"52":{"start":{"line":293,"column":8},"end":{"line":293,"column":39}},"53":{"start":{"line":304,"column":8},"end":{"line":304,"column":32}},"54":{"start":{"line":306,"column":8},"end":{"line":322,"column":9}},"55":{"start":{"line":307,"column":12},"end":{"line":317,"column":13}},"56":{"start":{"line":308,"column":16},"end":{"line":308,"column":69}},"57":{"start":{"line":309,"column":16},"end":{"line":309,"column":64}},"58":{"start":{"line":312,"column":16},"end":{"line":316,"column":18}},"59":{"start":{"line":318,"column":12},"end":{"line":318,"column":43}},"60":{"start":{"line":321,"column":12},"end":{"line":321,"column":41}},"61":{"start":{"line":323,"column":8},"end":{"line":323,"column":113}},"62":{"start":{"line":325,"column":8},"end":{"line":325,"column":39}},"63":{"start":{"line":326,"column":8},"end":{"line":326,"column":43}},"64":{"start":{"line":337,"column":8},"end":{"line":337,"column":18}},"65":{"start":{"line":339,"column":8},"end":{"line":339,"column":60}},"66":{"start":{"line":340,"column":8},"end":{"line":340,"column":56}},"67":{"start":{"line":342,"column":8},"end":{"line":342,"column":56}},"68":{"start":{"line":343,"column":8},"end":{"line":343,"column":52}},"69":{"start":{"line":345,"column":8},"end":{"line":345,"column":56}},"70":{"start":{"line":346,"column":8},"end":{"line":346,"column":38}},"71":{"start":{"line":348,"column":8},"end":{"line":353,"column":9}},"72":{"start":{"line":349,"column":12},"end":{"line":349,"column":38}},"73":{"start":{"line":351,"column":12},"end":{"line":351,"column":45}},"74":{"start":{"line":352,"column":12},"end":{"line":352,"column":67}},"75":{"start":{"line":355,"column":8},"end":{"line":355,"column":36}},"76":{"start":{"line":365,"column":8},"end":{"line":365,"column":38}},"77":{"start":{"line":376,"column":8},"end":{"line":376,"column":32}},"78":{"start":{"line":378,"column":8},"end":{"line":380,"column":9}},"79":{"start":{"line":379,"column":12},"end":{"line":379,"column":43}},"80":{"start":{"line":381,"column":8},"end":{"line":381,"column":35}},"81":{"start":{"line":382,"column":8},"end":{"line":382,"column":38}},"82":{"start":{"line":383,"column":8},"end":{"line":383,"column":41}},"83":{"start":{"line":394,"column":8},"end":{"line":395,"column":53}},"84":{"start":{"line":397,"column":8},"end":{"line":397,"column":46}},"85":{"start":{"line":408,"column":8},"end":{"line":408,"column":48}},"86":{"start":{"line":418,"column":8},"end":{"line":418,"column":62}},"87":{"start":{"line":430,"column":8},"end":{"line":430,"column":88}},"88":{"start":{"line":443,"column":8},"end":{"line":443,"column":48}},"89":{"start":{"line":445,"column":8},"end":{"line":452,"column":9}},"90":{"start":{"line":446,"column":12},"end":{"line":451,"column":24}},"91":{"start":{"line":454,"column":8},"end":{"line":454,"column":33}},"92":{"start":{"line":465,"column":8},"end":{"line":467,"column":11}},"93":{"start":{"line":478,"column":8},"end":{"line":480,"column":11}},"94":{"start":{"line":491,"column":8},"end":{"line":493,"column":11}},"95":{"start":{"line":504,"column":8},"end":{"line":504,"column":55}},"96":{"start":{"line":515,"column":8},"end":{"line":515,"column":53}},"97":{"start":{"line":525,"column":8},"end":{"line":525,"column":39}},"98":{"start":{"line":536,"column":8},"end":{"line":537,"column":34}},"99":{"start":{"line":539,"column":8},"end":{"line":544,"column":9}},"100":{"start":{"line":540,"column":12},"end":{"line":540,"column":36}},"101":{"start":{"line":543,"column":12},"end":{"line":543,"column":62}},"102":{"start":{"line":546,"column":8},"end":{"line":553,"column":9}},"103":{"start":{"line":547,"column":12},"end":{"line":549,"column":13}},"104":{"start":{"line":548,"column":16},"end":{"line":548,"column":89}},"105":{"start":{"line":552,"column":12},"end":{"line":552,"column":40}},"106":{"start":{"line":564,"column":8},"end":{"line":564,"column":80}},"107":{"start":{"line":566,"column":8},"end":{"line":566,"column":31}},"108":{"start":{"line":577,"column":8},"end":{"line":577,"column":64}},"109":{"start":{"line":589,"column":8},"end":{"line":589,"column":42}},"110":{"start":{"line":591,"column":8},"end":{"line":591,"column":46}},"111":{"start":{"line":592,"column":8},"end":{"line":592,"column":46}},"112":{"start":{"line":602,"column":8},"end":{"line":605,"column":15}},"113":{"start":{"line":607,"column":8},"end":{"line":607,"column":42}},"114":{"start":{"line":608,"column":8},"end":{"line":608,"column":48}},"115":{"start":{"line":609,"column":8},"end":{"line":609,"column":44}},"116":{"start":{"line":610,"column":8},"end":{"line":610,"column":43}},"117":{"start":{"line":611,"column":8},"end":{"line":611,"column":42}},"118":{"start":{"line":621,"column":8},"end":{"line":622,"column":81}},"119":{"start":{"line":624,"column":8},"end":{"line":636,"column":11}},"120":{"start":{"line":625,"column":12},"end":{"line":635,"column":15}},"121":{"start":{"line":626,"column":16},"end":{"line":626,"column":48}},"122":{"start":{"line":628,"column":16},"end":{"line":630,"column":17}},"123":{"start":{"line":629,"column":20},"end":{"line":629,"column":54}},"124":{"start":{"line":632,"column":16},"end":{"line":634,"column":17}},"125":{"start":{"line":633,"column":20},"end":{"line":633,"column":65}},"126":{"start":{"line":647,"column":8},"end":{"line":649,"column":16}},"127":{"start":{"line":660,"column":8},"end":{"line":660,"column":25}},"128":{"start":{"line":662,"column":8},"end":{"line":673,"column":11}},"129":{"start":{"line":663,"column":12},"end":{"line":665,"column":13}},"130":{"start":{"line":664,"column":16},"end":{"line":664,"column":46}},"131":{"start":{"line":667,"column":12},"end":{"line":669,"column":13}},"132":{"start":{"line":668,"column":16},"end":{"line":668,"column":56}},"133":{"start":{"line":671,"column":12},"end":{"line":671,"column":86}},"134":{"start":{"line":672,"column":12},"end":{"line":672,"column":33}},"135":{"start":{"line":675,"column":8},"end":{"line":675,"column":23}},"136":{"start":{"line":685,"column":8},"end":{"line":685,"column":37}},"137":{"start":{"line":687,"column":8},"end":{"line":690,"column":9}},"138":{"start":{"line":688,"column":12},"end":{"line":688,"column":60}},"139":{"start":{"line":689,"column":12},"end":{"line":689,"column":39}},"140":{"start":{"line":727,"column":16},"end":{"line":727,"column":40}}},"branchMap":{"1":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":8},"end":{"line":122,"column":8}},{"start":{"line":122,"column":8},"end":{"line":122,"column":8}}]},"2":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":8},"end":{"line":126,"column":8}},{"start":{"line":126,"column":8},"end":{"line":126,"column":8}}]},"3":{"line":190,"type":"if","locations":[{"start":{"line":190,"column":8},"end":{"line":190,"column":8}},{"start":{"line":190,"column":8},"end":{"line":190,"column":8}}]},"4":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":8},"end":{"line":213,"column":8}},{"start":{"line":213,"column":8},"end":{"line":213,"column":8}}]},"5":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8}},{"start":{"line":306,"column":8},"end":{"line":306,"column":8}}]},"6":{"line":307,"type":"if","locations":[{"start":{"line":307,"column":12},"end":{"line":307,"column":12}},{"start":{"line":307,"column":12},"end":{"line":307,"column":12}}]},"7":{"line":348,"type":"if","locations":[{"start":{"line":348,"column":8},"end":{"line":348,"column":8}},{"start":{"line":348,"column":8},"end":{"line":348,"column":8}}]},"8":{"line":430,"type":"cond-expr","locations":[{"start":{"line":430,"column":38},"end":{"line":430,"column":83}},{"start":{"line":430,"column":86},"end":{"line":430,"column":87}}]},"9":{"line":445,"type":"if","locations":[{"start":{"line":445,"column":8},"end":{"line":445,"column":8}},{"start":{"line":445,"column":8},"end":{"line":445,"column":8}}]},"10":{"line":539,"type":"if","locations":[{"start":{"line":539,"column":8},"end":{"line":539,"column":8}},{"start":{"line":539,"column":8},"end":{"line":539,"column":8}}]},"11":{"line":546,"type":"if","locations":[{"start":{"line":546,"column":8},"end":{"line":546,"column":8}},{"start":{"line":546,"column":8},"end":{"line":546,"column":8}}]},"12":{"line":547,"type":"if","locations":[{"start":{"line":547,"column":12},"end":{"line":547,"column":12}},{"start":{"line":547,"column":12},"end":{"line":547,"column":12}}]},"13":{"line":628,"type":"if","locations":[{"start":{"line":628,"column":16},"end":{"line":628,"column":16}},{"start":{"line":628,"column":16},"end":{"line":628,"column":16}}]},"14":{"line":632,"type":"if","locations":[{"start":{"line":632,"column":16},"end":{"line":632,"column":16}},{"start":{"line":632,"column":16},"end":{"line":632,"column":16}}]},"15":{"line":632,"type":"binary-expr","locations":[{"start":{"line":632,"column":20},"end":{"line":632,"column":28}},{"start":{"line":632,"column":32},"end":{"line":632,"column":74}}]},"16":{"line":663,"type":"if","locations":[{"start":{"line":663,"column":12},"end":{"line":663,"column":12}},{"start":{"line":663,"column":12},"end":{"line":663,"column":12}}]},"17":{"line":667,"type":"if","locations":[{"start":{"line":667,"column":12},"end":{"line":667,"column":12}},{"start":{"line":667,"column":12},"end":{"line":667,"column":12}}]},"18":{"line":687,"type":"if","locations":[{"start":{"line":687,"column":8},"end":{"line":687,"column":8}},{"start":{"line":687,"column":8},"end":{"line":687,"column":8}}]}},"code":["(function () { YUI.add('aui-form-builder', function (A, NAME) {","","/**"," * The Form Builder Component"," *"," * @module aui-form-builder"," */","","var CSS_EDIT_LAYOUT_BUTTON = A.getClassName('form', 'builder', 'edit', 'layout', 'button'),","    CSS_EMPTY_COL_ADD_BUTTON =","        A.getClassName('form', 'builder', 'field', 'list', 'add', 'button'),","    CSS_FIELD = A.getClassName('form', 'builder', 'field'),","    CSS_HEADER = A.getClassName('form', 'builder', 'header'),","    CSS_HEADER_TITLE = A.getClassName('form', 'builder', 'header', 'title'),","    CSS_LAYOUT = A.getClassName('form', 'builder', 'layout'),","    CSS_PAGE_HEADER = A.getClassName('form', 'builder', 'pages', 'header'),","    CSS_PAGES = A.getClassName('form', 'builder', 'pages'),","    CSS_TABS = A.getClassName('form', 'builder', 'tabs');","","/**"," * A base class for `A.FormBuilder`."," *"," * @class A.FormBuilder"," * @extends A.Widget"," * @uses A.FormBuilderFieldTypes, A.FormBuilderLayoutBuilder"," * @param {Object} config Object literal specifying widget configuration"," *     properties."," * @constructor"," */","A.FormBuilder = A.Base.create('form-builder', A.Widget, [","    A.FormBuilderFieldTypes,","    A.FormBuilderLayoutBuilder","], {","    TPL_EDIT_LAYOUT_BUTTON: '<div class=\"' + CSS_EDIT_LAYOUT_BUTTON + '\">' +","        '<a>{editLayout}</a></div>',","    TPL_HEADER: '<div class=\"' + CSS_HEADER + '\">' +","        '<div class=\"' + CSS_HEADER_TITLE + '\">{formTitle}</div>' +","        '</div>',","    TPL_LAYOUT: '<div class=\"' + CSS_LAYOUT + '\" ></div>',","    TPL_PAGE_HEADER: '<div class=\"' + CSS_PAGE_HEADER + '\" ></div>',","    TPL_PAGES: '<div class=\"' + CSS_PAGES + '\" ></div>',","    TPL_TABVIEW: '<div class=\"' + CSS_TABS + '\"></div>',","","    _fieldsChangeHandles: [],","","    /**","     * Construction logic executed during the `A.FormBuilder`","     * instantiation. Lifecycle.","     *","     * @method initializer","     * @protected","     */","    initializer: function() {","        this._fieldToolbar = new A.FormBuilderFieldToolbar(this.get('fieldToolbarConfig'));","","        this._eventHandles = [","            this.after('layoutsChange', A.bind(this._afterLayoutsChange, this)),","            this.after('layout:valueChange', this._afterLayoutChange),","            this.after('layout:rowsChange', this._afterLayoutRowsChange),","            this.after('layout-row:colsChange', this._afterLayoutColsChange)","        ];","","        A.Array.invoke(this.get('layouts'), 'addTarget', this);","        this._addFieldsChangeListener(this.get('layouts'));","","        this._checkLayoutsLastRow();","    },","","    /**","     * Renders the `A.FormBuilder` UI. Lifecycle.","     *","     * @method renderUI","     * @protected","     */","    renderUI: function() {","        this.getActiveLayout().addTarget(this);","","        this._renderContentBox();","","        this._renderEmptyColumns();","    },","","    /**","     * Bind the events for the `A.FormBuilder` UI. Lifecycle.","     *","     * @method bindUI","     * @protected","     */","    bindUI: function() {","        var boundingBox = this.get('boundingBox'),","            pages = this.get('pages');","","        this._eventHandles.push(","            this.get('contentBox').on('focus', A.bind(this._onFocus, this)),","            boundingBox.delegate('click', this._onClickAddField, '.' + CSS_EMPTY_COL_ADD_BUTTON, this),","            A.getDoc().on('key', this._onEscKey, 'esc', this),","            pages.on('add', A.bind(this._addPage, this)),","            pages.on('remove', A.bind(this._removeLayout, this)),","            pages.after('activePageNumberChange', A.bind(this._afterActivePageNumberChange, this)),","            pages.after('updatePageContent', A.bind(this._afterUpdatePageContentChange, this))","        );","    },","","    /**","     * Syncs the UI. Lifecycle.","     *","     * @method syncUI","     * @protected","     */","    syncUI: function() {","        this._updateUniqueFieldType();","    },","","    /**","     * Destructor lifecycle implementation for the `A.FormBuilder` class.","     * Lifecycle.","     *","     * @method destructor","     * @protected","     */","    destructor: function() {","        if (this._fieldSettingsModal) {","            this._fieldSettingsModal.destroy();","        }","","        if (this.get('pages')) {","            this.get('pages').destroy();","        }","","        (new A.EventHandle(this._eventHandles)).detach();","    },","","    /**","     * Adds a nested field to the given field.","     *","     * @method addNestedField","     * @param {A.FormBuilderFieldBase} field","     */","    addNestedField: function(field) {","        this._newFieldContainer = field;","        this.showFieldsPanel();","    },","","    /**","     * Opens the settings panel for editing the given field.","     *","     * @method editField","     * @param {A.FormBuilderFieldBase} field","     */","    editField: function(field) {","        var fieldType = this.findTypeOfField(field);","        this.showFieldSettingsPanel(field, fieldType.get('label'));","    },","","    /**","     * Returns the active `LayoutPage`.","     *","     * @method getActiveLayout","     * @return {A.LayoutPage}","     */","    getActiveLayout: function() {","        return this.get('layouts')[this._getActiveLayoutIndex()];","    },","","    /**","     * Returns the row of the given field.","     *","     * @method getFieldRow","     * @param {A.FormField} field","     * @return {Node} The row where is the field parameter","     */","    getFieldRow: function(field) {","        return field.get('content').ancestor('.layout-row');","    },","","    /**","     * Removes the given field from the form builder.","     *","     * @method removeField","     * @param {A.FormBuilderFieldBase} field","     */","    removeField: function(field) {","        var col,","            parentField,","            row,","            nestedFieldsNode = field.get('content').ancestor('.form-builder-field-nested');","","        this._handleRemoveEvent(field);","","        if (nestedFieldsNode) {","            parentField = nestedFieldsNode.ancestor('.form-builder-field').getData('field-instance');","            parentField.removeNestedField(field);","            this.getActiveLayout().normalizeColsHeight(new A.NodeList(this.getFieldRow(parentField)));","        }","        else {","            col = field.get('content').ancestor('.col').getData('layout-col');","            row = this.getFieldRow(field);","            col.get('value').removeField(field);","            this.getActiveLayout().normalizeColsHeight(new A.NodeList(row));","        }","","        this._updateUniqueFieldType();","    },","","    /**","     * Shows the settings panel for the given field.","     *","     * @method showFieldSettingsPanel","     * @param {A.FormField} field","     * @param {String} typeName The name of the field type.","     */","    showFieldSettingsPanel: function(field, typeName) {","        if (!this._fieldSettingsModal) {","            this._fieldSettingsModal = new A.FormBuilderSettingsModal();","            this._fieldSettingsModal.after('hide', A.bind(this._afterFieldSettingsModalHide, this));","            this._fieldSettingsModal.after('save', A.bind(this._afterFieldSettingsModalSave, this));","        }","","        this._fieldSettingsModal.show(field, typeName);","    },","","    /**","     * Attach the `fieldsChange` event listener from all layouts on the","     * `layouts` attribute.","     *","     * @method _addFieldsChangeListener","     * @protected","     */","    _addFieldsChangeListener: function(layouts) {","        var i;","","        for(i = 0; i < layouts.length; i++) {","            this._fieldsChangeHandles.push(","                layouts[i].after(","                    'form-builder-field-list:fieldsChange',","                    A.bind(this._afterFieldsChange, this)","                )","            );","        }","    },","","    /**","     * Adds a field into field's nested list and normalizes the columns height.","     *","     * @method _addNestedField","     * @param {A.FormField} field The Field with nested list that will receive the field","     * @param {A.FormField} nested Field to add as nested","     * @param {Number} index The position where the nested field should be added","     * @protected","     */","    _addNestedField: function(field, nested, index) {","        field.addNestedField(index, nested);","    },","","    /**","     * Adds a new page on form builder.","     *","     * @method _addPage","     * @protected","     */","    _addPage: function() {","        var layouts = this.get('layouts');","        var newLayout = new A.Layout({","            rows: [","                new A.LayoutRow()","            ]","        });","","        layouts.push(newLayout);","        this.set('layouts', layouts);","    },","","    /**","     * Fired after the `activePageNumber` change.","     *","     * @method _afterActivePageNumberChange","     * @protected","     */","    _afterActivePageNumberChange: function(event) {","        var layouts = this.get('layouts'),","            activeLayout = layouts[event.newVal - 1];","","        this._updatePageContent(activeLayout);","    },","","    /**","     * Fired when the field settings modal is hidden.","     *","     * @method _afterFieldSettingsModalHide","     * @protected","     */","    _afterFieldSettingsModalHide: function() {","        this._newFieldContainer = null;","    },","","    /**","     * Fired when the field settings modal is saved.","     *","     * @method _afterFieldSettingsModalSave","     * @param {EventFacade} event","     * @protected","     */","    _afterFieldSettingsModalSave: function(event) {","        var field = event.field;","","        if (this._newFieldContainer) {","            if (A.instanceOf(this._newFieldContainer.get('value'), A.FormBuilderFieldList)) {","                this._newFieldContainer.get('value').addField(field);","                this._newFieldContainer.set('removable', false);","            }","            else {","                this._addNestedField(","                    this._newFieldContainer,","                    field,","                    this._newFieldContainer.get('nestedFields').length","                );","            }","            this._newFieldContainer = null;","        }","        else {","            this._handleEditEvent(field);","        }","        this.getActiveLayout().normalizeColsHeight(new A.NodeList(field.get('content').ancestor('.layout-row')));","","        this._handleCreateEvent(field);","        this.disableUniqueFieldType(field);","    },","","    /**","     * Fires after layouts changes.","     *","     * @method _afterLayoutsChange","     * @param {EventFacade} event","     * @protected","     */","    _afterLayoutsChange: function(event) {","        var pages;","","        A.Array.invoke(event.prevVal, 'removeTarget', this);","        A.Array.invoke(event.newVal, 'addTarget', this);","","        this._removeFieldsChangeListener(event.prevVal);","        this._addFieldsChangeListener(event.newVal);","","        this._updatePageContent(this.get('layouts')[0]);","        this._updateUniqueFieldType();","","        if (this.get('rendered')) {","            pages = this.get('pages');","","            pages.set('activePageNumber', 1);","            pages.set('pagesQuantity', this.get('layouts').length);","        }","","        this._checkLayoutsLastRow();","    },","","    /**","     * Fired after the `layout-row:colsChange` event is triggered.","     *","     * @method _afterLayoutColsChange","     * @protected","     */","    _afterLayoutColsChange: function() {","        this._updateUniqueFieldType();","    },","","    /**","     * Fired after the `layout:rowsChange` event is triggered.","     *","     * @method _afterLayoutRowsChange","     * @param {EventFacade} event","     * @protected","     */","    _afterLayoutRowsChange: function(event) {","        var rows = event.newVal;","","        for (var i = 0; i < rows.length; i++) {","            rows[i].set('removable', true);","        }","        this._renderEmptyColumns();","        this._updateUniqueFieldType();","        this._checkLastRow(event.target);","    },","","    /**","     * Fired after the `activePageNumber` change.","     *","     * @method _afterUpdatePageContentChange","     * @param {EventFacade} event","     * @protected","     */","    _afterUpdatePageContentChange: function(event) {","        var layouts = this.get('layouts'),","            activeLayout = layouts[event.newVal - 1];","","        this._updatePageContent(activeLayout);","    },","","    /**","     * Fired after the `form-builder-field-list:fieldsChange` event is triggered.","     *","     * @method _afterFieldsChange","     * @param {EventFacade} event","     * @protected","     */","    _afterFieldsChange: function(event) {","        this._checkLastRow(event.currentTarget);","    },","","    /**","     * Executes the '_checkLastRow' funciton for each layouts on 'layouts' attribute.","     *","     * @method _checkLayoutsLastRow","     * @protected","     */","    _checkLayoutsLastRow: function() {","        this.get('layouts').forEach(this._checkLastRow, this);","    },","","    /**","","    /**","     * Fire event of create a field.","     *","     * @method _getActiveLayoutIndex","     * @protected","     */","    _getActiveLayoutIndex: function() {","        return this.get('rendered') ? this.get('pages').get('activePageNumber') - 1 : 0;","    },","","    /**","     * Form Builder Pages instance initializer. Receives a custom","     * object of configurations or using default configurations instead.","     *","     * @method _getPageManagerInstance","     * @param {Object} config","     * @return {A.FormBuilderPages}","     * @protected","     */","    _getPageManagerInstance: function(config) {","        var contentBox = this.get('contentBox');","","        if (!this._pageManager) {","            this._pageManager = new A.FormBuilderPageManager(A.merge({","                pageHeader: contentBox.one('.' + CSS_PAGE_HEADER),","                pagesQuantity: this.get('layouts').length,","                paginationContainer: contentBox.one('.' + CSS_PAGES),","                tabviewContainer: contentBox.one('.' + CSS_TABS)","            }, config));","        }","","        return this._pageManager;","    },","","    /**","     * Fire event of create a field.","     *","     * @method _handleCreateEvent","     * @param {A.FormBuilderFieldBase} field","     * @protected","     */","    _handleCreateEvent: function(field) {","        this.fire('create', {","            field: field","        });","    },","","    /**","     * Fire event of edit a field.","     *","     * @method _handleEditEvent","     * @param {A.FormBuilderFieldBase} field","     * @protected","     */","    _handleEditEvent: function(field) {","        this.fire('edit', {","            field: field","        });","    },","","    /**","     * Fire event of remove a field.","     *","     * @method _handleRemoveEvent","     * @param {A.FormBuilderFieldBase} field","     * @protected","     */","    _handleRemoveEvent: function(field) {","        this.fire('remove', {","            field: field","        });","    },","","    /**","     * Turns the given column into an empty form builder column.","     *","     * @method _makeEmptyFieldList","     * @param {A.LayoutCol} col","     * @protected","     */","    _makeEmptyFieldList: function(col) {","        col.set('value', new A.FormBuilderFieldList());","    },","","    /**","     * Fired when the button for adding a new field is clicked.","     *","     * @method _onClickAddField","     * @param {EventFacade} event","     * @protected","     */","    _onClickAddField: function(event) {","        this._openNewFieldPanel(event.currentTarget);","    },","","    /**","     * Fires when the esc key is pressed.","     *","     * @method _onEscKey","     * @protected","     */","    _onEscKey: function() {","        this._newFieldContainer = null;","    },","","    /**","     * Fired when some node is focused inside content box.","     *","     * @method _onFocus","     * @param {EventFacade} event","     * @protected","     */","    _onFocus: function(event) {","        var fieldContainer,","            target = event.target;","","        if (target.hasClass(CSS_FIELD)) {","            fieldContainer = target;","        }","        else {","            fieldContainer = target.ancestor('.' + CSS_FIELD);","        }","","        if (fieldContainer) {","            if (!fieldContainer.contains(this._fieldToolbar._toolbar)) {","                this._fieldToolbar.addForField(fieldContainer.getData('field-instance'));","            }","        }","        else {","            this._fieldToolbar.remove();","        }","    },","","    /**","     * Opens a panel to select a new field type.","     *","     * @method _openNewFieldPanel","     * @param {Node} target","     * @protected","     */","    _openNewFieldPanel: function(target) {","        this._newFieldContainer = target.ancestor('.col').getData('layout-col');","","        this.showFieldsPanel();","    },","","    /**","     * Detach the `fieldsChange` event listener from all layouts on the","     * `layouts` attribute.","     *","     * @method _removeFieldsChangeListener","     * @protected","     */","    _removeFieldsChangeListener: function() {","        (new A.EventHandle(this._fieldsChangeHandles)).detach();","    },","","    /**","     * Remove a layout from the form builder. The paramenter `event` has the","     * layout index to be removed.","     *","     * @method _removeLayout","     * @params {EventFacade} event","     * @protected","     */","    _removeLayout: function(event) {","        var layouts = this.get('layouts');","","        layouts[event.removedIndex].destroy();","        layouts.splice(event.removedIndex, 1);","    },","","    /**","     * Render the form builder UI parts","     *","     * @method _renderContentBox","     * @protected","     */","    _renderContentBox: function() {","        var contentBox = this.get('contentBox'),","            headerTemplate = A.Lang.sub(this.TPL_HEADER, {","                formTitle: this.get('strings').formTitle","            });","","        contentBox.append(headerTemplate);","        contentBox.append(this.TPL_PAGE_HEADER);","        contentBox.append(this.TPL_TABVIEW);","        contentBox.append(this.TPL_LAYOUT);","        contentBox.append(this.TPL_PAGES);","    },","","    /**","     * Renders some content inside the empty columns of the current layout.","     *","     * @method _renderEmptyColumns","     * @protected","     */","    _renderEmptyColumns: function() {","        var instance = this,","            rows = this.get('layouts')[this._getActiveLayoutIndex()].get('rows');","","        A.Array.each(rows, function(row) {","            A.Array.each(row.get('cols'), function(col) {","                var colValue = col.get('value');","","                if (!colValue) {","                    instance._makeEmptyFieldList(col);","                }","","                if (colValue && colValue._updateRemovableLayoutColProperty) {","                    colValue._updateRemovableLayoutColProperty();","                }","            });","        });","    },","","    /**","     * Sets the `fieldToolbar` attribute.","     *","     * @method _setFieldToolbarConfig","     * @params {Object} val","     * @return {Object}","     */","    _setFieldToolbarConfig: function(val) {","        return A.merge({","            formBuilder: this","        }, val);","    },","","    /**","     * Sets the `layouts` attribute.","     *","     * @method _setLayouts","     * @param {A.Array} val","     * @protected","     */","    _setLayouts: function(val) {","        var layouts = [];","","        A.Array.each(val, function(layout) {","            if (!A.instanceOf(layout, A.Layout)) {","                layout = new A.Layout(layout);","            }","","            if (layout.get('rows').length === 0) {","                layout.set('rows', [new A.LayoutRow()]);","            }","","            layout.get('rows')[layout.get('rows').length - 1].set('removable', false);","            layouts.push(layout);","        });","","        return layouts;","    },","","    /**","     * Fired after the `activePageNumber` change.","     *","     * @method _updatePageContent","     * @protected","     */","    _updatePageContent: function(activeLayout) {","        activeLayout.addTarget(this);","","        if (this.get('rendered')) {","            this._layoutBuilder.set('layout', activeLayout);","            this._renderEmptyColumns();","        }","    }","}, {","","    /**","     * Static property used to define the default attribute","     * configuration for the `A.FormBuilder`.","     *","     * @property ATTRS","     * @type Object","     * @static","     */","    ATTRS: {","        /**","         * A configuration object for the creation of the `A.FormBuilderFieldToolbar`","         * instance to be used for the form builder field toolbars.","         *","         * @attribute fieldToolbarConfig","         * @type Object","         */","        fieldToolbarConfig: {","            setter: '_setFieldToolbarConfig',","            validator: A.Lang.isObject,","            value: {}","        },","","        /**","         * The layouts where the forms fields will be rendered.","         *","         * @attribute layouts","         * @default [A.Layout]","         * @type Array","         */","        layouts: {","            setter: '_setLayouts',","            validator: A.Lang.isArray,","            valueFn: function() {","                return [new A.Layout()];","            }","        },","","        /**","         * A Form Builder Pages instance.","         *","         * @attribute pages","         * @type {A.FormBuilderPages}","         */","        pages: {","            getter: '_getPageManagerInstance',","            validator: A.Lang.isObject","        },","","        /**","         * Collection of strings used to label elements of the UI.","         *","         * @attribute strings","         * @type {Object}","         */","        strings: {","            value: {","                addField: 'Add Field',","                cancelRemoveRow: 'Cancel',","                confirmRemoveRow: 'Yes, delete',","                formTitle: 'Build your form',","                modalHeader: 'Remove confirmation',","                removeRowModal: 'You will also delete fields with this row. ' +","                    'Are you sure you want delete it?'","            },","            writeOnce: true","        }","    },","","    /**","     * Static property provides a string to identify the CSS prefix.","     *","     * @property CSS_PREFIX","     * @type String","     * @static","     */","    CSS_PREFIX: A.getClassName('form-builder')","});","","","}, '3.0.3-deprecated.12', {","    \"requires\": [","        \"aui-modal\",","        \"aui-layout\",","        \"aui-form-builder-field-list\",","        \"aui-form-builder-field-toolbar\",","        \"aui-form-builder-field-type\",","        \"aui-form-builder-field-types\",","        \"aui-form-builder-layout-builder\",","        \"aui-form-builder-page-manager\",","        \"aui-form-builder-settings-modal\",","        \"event-focus\",","        \"event-tap\"","    ],","    \"skinnable\": true","});","","}());"]};
}
var __cov_hkdGL81vsf4KKCK1AEV9tw = __coverage__['build/aui-form-builder/aui-form-builder.js'];
__cov_hkdGL81vsf4KKCK1AEV9tw.s['1']++;YUI.add('aui-form-builder',function(A,NAME){__cov_hkdGL81vsf4KKCK1AEV9tw.f['1']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['2']++;var CSS_EDIT_LAYOUT_BUTTON=A.getClassName('form','builder','edit','layout','button'),CSS_EMPTY_COL_ADD_BUTTON=A.getClassName('form','builder','field','list','add','button'),CSS_FIELD=A.getClassName('form','builder','field'),CSS_HEADER=A.getClassName('form','builder','header'),CSS_HEADER_TITLE=A.getClassName('form','builder','header','title'),CSS_LAYOUT=A.getClassName('form','builder','layout'),CSS_PAGE_HEADER=A.getClassName('form','builder','pages','header'),CSS_PAGES=A.getClassName('form','builder','pages'),CSS_TABS=A.getClassName('form','builder','tabs');__cov_hkdGL81vsf4KKCK1AEV9tw.s['3']++;A.FormBuilder=A.Base.create('form-builder',A.Widget,[A.FormBuilderFieldTypes,A.FormBuilderLayoutBuilder],{TPL_EDIT_LAYOUT_BUTTON:'<div class="'+CSS_EDIT_LAYOUT_BUTTON+'">'+'<a>{editLayout}</a></div>',TPL_HEADER:'<div class="'+CSS_HEADER+'">'+'<div class="'+CSS_HEADER_TITLE+'">{formTitle}</div>'+'</div>',TPL_LAYOUT:'<div class="'+CSS_LAYOUT+'" ></div>',TPL_PAGE_HEADER:'<div class="'+CSS_PAGE_HEADER+'" ></div>',TPL_PAGES:'<div class="'+CSS_PAGES+'" ></div>',TPL_TABVIEW:'<div class="'+CSS_TABS+'"></div>',_fieldsChangeHandles:[],initializer:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['2']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['4']++;this._fieldToolbar=new A.FormBuilderFieldToolbar(this.get('fieldToolbarConfig'));__cov_hkdGL81vsf4KKCK1AEV9tw.s['5']++;this._eventHandles=[this.after('layoutsChange',A.bind(this._afterLayoutsChange,this)),this.after('layout:valueChange',this._afterLayoutChange),this.after('layout:rowsChange',this._afterLayoutRowsChange),this.after('layout-row:colsChange',this._afterLayoutColsChange)];__cov_hkdGL81vsf4KKCK1AEV9tw.s['6']++;A.Array.invoke(this.get('layouts'),'addTarget',this);__cov_hkdGL81vsf4KKCK1AEV9tw.s['7']++;this._addFieldsChangeListener(this.get('layouts'));__cov_hkdGL81vsf4KKCK1AEV9tw.s['8']++;this._checkLayoutsLastRow();},renderUI:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['3']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['9']++;this.getActiveLayout().addTarget(this);__cov_hkdGL81vsf4KKCK1AEV9tw.s['10']++;this._renderContentBox();__cov_hkdGL81vsf4KKCK1AEV9tw.s['11']++;this._renderEmptyColumns();},bindUI:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['4']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['12']++;var boundingBox=this.get('boundingBox'),pages=this.get('pages');__cov_hkdGL81vsf4KKCK1AEV9tw.s['13']++;this._eventHandles.push(this.get('contentBox').on('focus',A.bind(this._onFocus,this)),boundingBox.delegate('click',this._onClickAddField,'.'+CSS_EMPTY_COL_ADD_BUTTON,this),A.getDoc().on('key',this._onEscKey,'esc',this),pages.on('add',A.bind(this._addPage,this)),pages.on('remove',A.bind(this._removeLayout,this)),pages.after('activePageNumberChange',A.bind(this._afterActivePageNumberChange,this)),pages.after('updatePageContent',A.bind(this._afterUpdatePageContentChange,this)));},syncUI:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['5']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['14']++;this._updateUniqueFieldType();},destructor:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['6']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['15']++;if(this._fieldSettingsModal){__cov_hkdGL81vsf4KKCK1AEV9tw.b['1'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['16']++;this._fieldSettingsModal.destroy();}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['1'][1]++;}__cov_hkdGL81vsf4KKCK1AEV9tw.s['17']++;if(this.get('pages')){__cov_hkdGL81vsf4KKCK1AEV9tw.b['2'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['18']++;this.get('pages').destroy();}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['2'][1]++;}__cov_hkdGL81vsf4KKCK1AEV9tw.s['19']++;new A.EventHandle(this._eventHandles).detach();},addNestedField:function(field){__cov_hkdGL81vsf4KKCK1AEV9tw.f['7']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['20']++;this._newFieldContainer=field;__cov_hkdGL81vsf4KKCK1AEV9tw.s['21']++;this.showFieldsPanel();},editField:function(field){__cov_hkdGL81vsf4KKCK1AEV9tw.f['8']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['22']++;var fieldType=this.findTypeOfField(field);__cov_hkdGL81vsf4KKCK1AEV9tw.s['23']++;this.showFieldSettingsPanel(field,fieldType.get('label'));},getActiveLayout:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['9']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['24']++;return this.get('layouts')[this._getActiveLayoutIndex()];},getFieldRow:function(field){__cov_hkdGL81vsf4KKCK1AEV9tw.f['10']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['25']++;return field.get('content').ancestor('.layout-row');},removeField:function(field){__cov_hkdGL81vsf4KKCK1AEV9tw.f['11']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['26']++;var col,parentField,row,nestedFieldsNode=field.get('content').ancestor('.form-builder-field-nested');__cov_hkdGL81vsf4KKCK1AEV9tw.s['27']++;this._handleRemoveEvent(field);__cov_hkdGL81vsf4KKCK1AEV9tw.s['28']++;if(nestedFieldsNode){__cov_hkdGL81vsf4KKCK1AEV9tw.b['3'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['29']++;parentField=nestedFieldsNode.ancestor('.form-builder-field').getData('field-instance');__cov_hkdGL81vsf4KKCK1AEV9tw.s['30']++;parentField.removeNestedField(field);__cov_hkdGL81vsf4KKCK1AEV9tw.s['31']++;this.getActiveLayout().normalizeColsHeight(new A.NodeList(this.getFieldRow(parentField)));}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['3'][1]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['32']++;col=field.get('content').ancestor('.col').getData('layout-col');__cov_hkdGL81vsf4KKCK1AEV9tw.s['33']++;row=this.getFieldRow(field);__cov_hkdGL81vsf4KKCK1AEV9tw.s['34']++;col.get('value').removeField(field);__cov_hkdGL81vsf4KKCK1AEV9tw.s['35']++;this.getActiveLayout().normalizeColsHeight(new A.NodeList(row));}__cov_hkdGL81vsf4KKCK1AEV9tw.s['36']++;this._updateUniqueFieldType();},showFieldSettingsPanel:function(field,typeName){__cov_hkdGL81vsf4KKCK1AEV9tw.f['12']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['37']++;if(!this._fieldSettingsModal){__cov_hkdGL81vsf4KKCK1AEV9tw.b['4'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['38']++;this._fieldSettingsModal=new A.FormBuilderSettingsModal();__cov_hkdGL81vsf4KKCK1AEV9tw.s['39']++;this._fieldSettingsModal.after('hide',A.bind(this._afterFieldSettingsModalHide,this));__cov_hkdGL81vsf4KKCK1AEV9tw.s['40']++;this._fieldSettingsModal.after('save',A.bind(this._afterFieldSettingsModalSave,this));}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['4'][1]++;}__cov_hkdGL81vsf4KKCK1AEV9tw.s['41']++;this._fieldSettingsModal.show(field,typeName);},_addFieldsChangeListener:function(layouts){__cov_hkdGL81vsf4KKCK1AEV9tw.f['13']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['42']++;var i;__cov_hkdGL81vsf4KKCK1AEV9tw.s['43']++;for(i=0;i<layouts.length;i++){__cov_hkdGL81vsf4KKCK1AEV9tw.s['44']++;this._fieldsChangeHandles.push(layouts[i].after('form-builder-field-list:fieldsChange',A.bind(this._afterFieldsChange,this)));}},_addNestedField:function(field,nested,index){__cov_hkdGL81vsf4KKCK1AEV9tw.f['14']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['45']++;field.addNestedField(index,nested);},_addPage:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['15']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['46']++;var layouts=this.get('layouts');__cov_hkdGL81vsf4KKCK1AEV9tw.s['47']++;var newLayout=new A.Layout({rows:[new A.LayoutRow()]});__cov_hkdGL81vsf4KKCK1AEV9tw.s['48']++;layouts.push(newLayout);__cov_hkdGL81vsf4KKCK1AEV9tw.s['49']++;this.set('layouts',layouts);},_afterActivePageNumberChange:function(event){__cov_hkdGL81vsf4KKCK1AEV9tw.f['16']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['50']++;var layouts=this.get('layouts'),activeLayout=layouts[event.newVal-1];__cov_hkdGL81vsf4KKCK1AEV9tw.s['51']++;this._updatePageContent(activeLayout);},_afterFieldSettingsModalHide:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['17']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['52']++;this._newFieldContainer=null;},_afterFieldSettingsModalSave:function(event){__cov_hkdGL81vsf4KKCK1AEV9tw.f['18']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['53']++;var field=event.field;__cov_hkdGL81vsf4KKCK1AEV9tw.s['54']++;if(this._newFieldContainer){__cov_hkdGL81vsf4KKCK1AEV9tw.b['5'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['55']++;if(A.instanceOf(this._newFieldContainer.get('value'),A.FormBuilderFieldList)){__cov_hkdGL81vsf4KKCK1AEV9tw.b['6'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['56']++;this._newFieldContainer.get('value').addField(field);__cov_hkdGL81vsf4KKCK1AEV9tw.s['57']++;this._newFieldContainer.set('removable',false);}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['6'][1]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['58']++;this._addNestedField(this._newFieldContainer,field,this._newFieldContainer.get('nestedFields').length);}__cov_hkdGL81vsf4KKCK1AEV9tw.s['59']++;this._newFieldContainer=null;}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['5'][1]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['60']++;this._handleEditEvent(field);}__cov_hkdGL81vsf4KKCK1AEV9tw.s['61']++;this.getActiveLayout().normalizeColsHeight(new A.NodeList(field.get('content').ancestor('.layout-row')));__cov_hkdGL81vsf4KKCK1AEV9tw.s['62']++;this._handleCreateEvent(field);__cov_hkdGL81vsf4KKCK1AEV9tw.s['63']++;this.disableUniqueFieldType(field);},_afterLayoutsChange:function(event){__cov_hkdGL81vsf4KKCK1AEV9tw.f['19']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['64']++;var pages;__cov_hkdGL81vsf4KKCK1AEV9tw.s['65']++;A.Array.invoke(event.prevVal,'removeTarget',this);__cov_hkdGL81vsf4KKCK1AEV9tw.s['66']++;A.Array.invoke(event.newVal,'addTarget',this);__cov_hkdGL81vsf4KKCK1AEV9tw.s['67']++;this._removeFieldsChangeListener(event.prevVal);__cov_hkdGL81vsf4KKCK1AEV9tw.s['68']++;this._addFieldsChangeListener(event.newVal);__cov_hkdGL81vsf4KKCK1AEV9tw.s['69']++;this._updatePageContent(this.get('layouts')[0]);__cov_hkdGL81vsf4KKCK1AEV9tw.s['70']++;this._updateUniqueFieldType();__cov_hkdGL81vsf4KKCK1AEV9tw.s['71']++;if(this.get('rendered')){__cov_hkdGL81vsf4KKCK1AEV9tw.b['7'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['72']++;pages=this.get('pages');__cov_hkdGL81vsf4KKCK1AEV9tw.s['73']++;pages.set('activePageNumber',1);__cov_hkdGL81vsf4KKCK1AEV9tw.s['74']++;pages.set('pagesQuantity',this.get('layouts').length);}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['7'][1]++;}__cov_hkdGL81vsf4KKCK1AEV9tw.s['75']++;this._checkLayoutsLastRow();},_afterLayoutColsChange:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['20']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['76']++;this._updateUniqueFieldType();},_afterLayoutRowsChange:function(event){__cov_hkdGL81vsf4KKCK1AEV9tw.f['21']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['77']++;var rows=event.newVal;__cov_hkdGL81vsf4KKCK1AEV9tw.s['78']++;for(var i=0;i<rows.length;i++){__cov_hkdGL81vsf4KKCK1AEV9tw.s['79']++;rows[i].set('removable',true);}__cov_hkdGL81vsf4KKCK1AEV9tw.s['80']++;this._renderEmptyColumns();__cov_hkdGL81vsf4KKCK1AEV9tw.s['81']++;this._updateUniqueFieldType();__cov_hkdGL81vsf4KKCK1AEV9tw.s['82']++;this._checkLastRow(event.target);},_afterUpdatePageContentChange:function(event){__cov_hkdGL81vsf4KKCK1AEV9tw.f['22']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['83']++;var layouts=this.get('layouts'),activeLayout=layouts[event.newVal-1];__cov_hkdGL81vsf4KKCK1AEV9tw.s['84']++;this._updatePageContent(activeLayout);},_afterFieldsChange:function(event){__cov_hkdGL81vsf4KKCK1AEV9tw.f['23']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['85']++;this._checkLastRow(event.currentTarget);},_checkLayoutsLastRow:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['24']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['86']++;this.get('layouts').forEach(this._checkLastRow,this);},_getActiveLayoutIndex:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['25']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['87']++;return this.get('rendered')?(__cov_hkdGL81vsf4KKCK1AEV9tw.b['8'][0]++,this.get('pages').get('activePageNumber')-1):(__cov_hkdGL81vsf4KKCK1AEV9tw.b['8'][1]++,0);},_getPageManagerInstance:function(config){__cov_hkdGL81vsf4KKCK1AEV9tw.f['26']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['88']++;var contentBox=this.get('contentBox');__cov_hkdGL81vsf4KKCK1AEV9tw.s['89']++;if(!this._pageManager){__cov_hkdGL81vsf4KKCK1AEV9tw.b['9'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['90']++;this._pageManager=new A.FormBuilderPageManager(A.merge({pageHeader:contentBox.one('.'+CSS_PAGE_HEADER),pagesQuantity:this.get('layouts').length,paginationContainer:contentBox.one('.'+CSS_PAGES),tabviewContainer:contentBox.one('.'+CSS_TABS)},config));}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['9'][1]++;}__cov_hkdGL81vsf4KKCK1AEV9tw.s['91']++;return this._pageManager;},_handleCreateEvent:function(field){__cov_hkdGL81vsf4KKCK1AEV9tw.f['27']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['92']++;this.fire('create',{field:field});},_handleEditEvent:function(field){__cov_hkdGL81vsf4KKCK1AEV9tw.f['28']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['93']++;this.fire('edit',{field:field});},_handleRemoveEvent:function(field){__cov_hkdGL81vsf4KKCK1AEV9tw.f['29']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['94']++;this.fire('remove',{field:field});},_makeEmptyFieldList:function(col){__cov_hkdGL81vsf4KKCK1AEV9tw.f['30']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['95']++;col.set('value',new A.FormBuilderFieldList());},_onClickAddField:function(event){__cov_hkdGL81vsf4KKCK1AEV9tw.f['31']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['96']++;this._openNewFieldPanel(event.currentTarget);},_onEscKey:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['32']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['97']++;this._newFieldContainer=null;},_onFocus:function(event){__cov_hkdGL81vsf4KKCK1AEV9tw.f['33']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['98']++;var fieldContainer,target=event.target;__cov_hkdGL81vsf4KKCK1AEV9tw.s['99']++;if(target.hasClass(CSS_FIELD)){__cov_hkdGL81vsf4KKCK1AEV9tw.b['10'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['100']++;fieldContainer=target;}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['10'][1]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['101']++;fieldContainer=target.ancestor('.'+CSS_FIELD);}__cov_hkdGL81vsf4KKCK1AEV9tw.s['102']++;if(fieldContainer){__cov_hkdGL81vsf4KKCK1AEV9tw.b['11'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['103']++;if(!fieldContainer.contains(this._fieldToolbar._toolbar)){__cov_hkdGL81vsf4KKCK1AEV9tw.b['12'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['104']++;this._fieldToolbar.addForField(fieldContainer.getData('field-instance'));}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['12'][1]++;}}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['11'][1]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['105']++;this._fieldToolbar.remove();}},_openNewFieldPanel:function(target){__cov_hkdGL81vsf4KKCK1AEV9tw.f['34']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['106']++;this._newFieldContainer=target.ancestor('.col').getData('layout-col');__cov_hkdGL81vsf4KKCK1AEV9tw.s['107']++;this.showFieldsPanel();},_removeFieldsChangeListener:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['35']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['108']++;new A.EventHandle(this._fieldsChangeHandles).detach();},_removeLayout:function(event){__cov_hkdGL81vsf4KKCK1AEV9tw.f['36']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['109']++;var layouts=this.get('layouts');__cov_hkdGL81vsf4KKCK1AEV9tw.s['110']++;layouts[event.removedIndex].destroy();__cov_hkdGL81vsf4KKCK1AEV9tw.s['111']++;layouts.splice(event.removedIndex,1);},_renderContentBox:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['37']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['112']++;var contentBox=this.get('contentBox'),headerTemplate=A.Lang.sub(this.TPL_HEADER,{formTitle:this.get('strings').formTitle});__cov_hkdGL81vsf4KKCK1AEV9tw.s['113']++;contentBox.append(headerTemplate);__cov_hkdGL81vsf4KKCK1AEV9tw.s['114']++;contentBox.append(this.TPL_PAGE_HEADER);__cov_hkdGL81vsf4KKCK1AEV9tw.s['115']++;contentBox.append(this.TPL_TABVIEW);__cov_hkdGL81vsf4KKCK1AEV9tw.s['116']++;contentBox.append(this.TPL_LAYOUT);__cov_hkdGL81vsf4KKCK1AEV9tw.s['117']++;contentBox.append(this.TPL_PAGES);},_renderEmptyColumns:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['38']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['118']++;var instance=this,rows=this.get('layouts')[this._getActiveLayoutIndex()].get('rows');__cov_hkdGL81vsf4KKCK1AEV9tw.s['119']++;A.Array.each(rows,function(row){__cov_hkdGL81vsf4KKCK1AEV9tw.f['39']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['120']++;A.Array.each(row.get('cols'),function(col){__cov_hkdGL81vsf4KKCK1AEV9tw.f['40']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['121']++;var colValue=col.get('value');__cov_hkdGL81vsf4KKCK1AEV9tw.s['122']++;if(!colValue){__cov_hkdGL81vsf4KKCK1AEV9tw.b['13'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['123']++;instance._makeEmptyFieldList(col);}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['13'][1]++;}__cov_hkdGL81vsf4KKCK1AEV9tw.s['124']++;if((__cov_hkdGL81vsf4KKCK1AEV9tw.b['15'][0]++,colValue)&&(__cov_hkdGL81vsf4KKCK1AEV9tw.b['15'][1]++,colValue._updateRemovableLayoutColProperty)){__cov_hkdGL81vsf4KKCK1AEV9tw.b['14'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['125']++;colValue._updateRemovableLayoutColProperty();}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['14'][1]++;}});});},_setFieldToolbarConfig:function(val){__cov_hkdGL81vsf4KKCK1AEV9tw.f['41']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['126']++;return A.merge({formBuilder:this},val);},_setLayouts:function(val){__cov_hkdGL81vsf4KKCK1AEV9tw.f['42']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['127']++;var layouts=[];__cov_hkdGL81vsf4KKCK1AEV9tw.s['128']++;A.Array.each(val,function(layout){__cov_hkdGL81vsf4KKCK1AEV9tw.f['43']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['129']++;if(!A.instanceOf(layout,A.Layout)){__cov_hkdGL81vsf4KKCK1AEV9tw.b['16'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['130']++;layout=new A.Layout(layout);}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['16'][1]++;}__cov_hkdGL81vsf4KKCK1AEV9tw.s['131']++;if(layout.get('rows').length===0){__cov_hkdGL81vsf4KKCK1AEV9tw.b['17'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['132']++;layout.set('rows',[new A.LayoutRow()]);}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['17'][1]++;}__cov_hkdGL81vsf4KKCK1AEV9tw.s['133']++;layout.get('rows')[layout.get('rows').length-1].set('removable',false);__cov_hkdGL81vsf4KKCK1AEV9tw.s['134']++;layouts.push(layout);});__cov_hkdGL81vsf4KKCK1AEV9tw.s['135']++;return layouts;},_updatePageContent:function(activeLayout){__cov_hkdGL81vsf4KKCK1AEV9tw.f['44']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['136']++;activeLayout.addTarget(this);__cov_hkdGL81vsf4KKCK1AEV9tw.s['137']++;if(this.get('rendered')){__cov_hkdGL81vsf4KKCK1AEV9tw.b['18'][0]++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['138']++;this._layoutBuilder.set('layout',activeLayout);__cov_hkdGL81vsf4KKCK1AEV9tw.s['139']++;this._renderEmptyColumns();}else{__cov_hkdGL81vsf4KKCK1AEV9tw.b['18'][1]++;}}},{ATTRS:{fieldToolbarConfig:{setter:'_setFieldToolbarConfig',validator:A.Lang.isObject,value:{}},layouts:{setter:'_setLayouts',validator:A.Lang.isArray,valueFn:function(){__cov_hkdGL81vsf4KKCK1AEV9tw.f['45']++;__cov_hkdGL81vsf4KKCK1AEV9tw.s['140']++;return[new A.Layout()];}},pages:{getter:'_getPageManagerInstance',validator:A.Lang.isObject},strings:{value:{addField:'Add Field',cancelRemoveRow:'Cancel',confirmRemoveRow:'Yes, delete',formTitle:'Build your form',modalHeader:'Remove confirmation',removeRowModal:'You will also delete fields with this row. '+'Are you sure you want delete it?'},writeOnce:true}},CSS_PREFIX:A.getClassName('form-builder')});},'3.0.3-deprecated.12',{'requires':['aui-modal','aui-layout','aui-form-builder-field-list','aui-form-builder-field-toolbar','aui-form-builder-field-type','aui-form-builder-field-types','aui-form-builder-layout-builder','aui-form-builder-page-manager','aui-form-builder-settings-modal','event-focus','event-tap'],'skinnable':true});
