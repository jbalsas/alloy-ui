<!DOCTYPE html>

<html>
    <head>
        <link rel="stylesheet" href="../../build/aui-css/css/bootstrap.css">
        <script src="../../build/aui/aui.js"></script>
    </head>

    <body class="yui3-skin-sam">
        <h1>Alloy - ImageEditor Demo</h1>

        <div>
            <button id="getImageData">GetImageData</button>
        </div>

        <div id="imageContainer">
            <img src="assets/air-balloon.jpg"></img>
            <button class="btn btn-default" id="edit" style="position: absolute; bottom: 10px; right: 10px;"><span class="glyphicon glyphicon-pencil"></span></button>
        </div>

        <script>
            YUI({filter:'raw'/*, defaultImageEditorEngine: 'flash'*/}).use('aui-image-editor', function(Y) {
                    var imageEditor = new Y.ImageEditor({
                        src: '#imageContainer',
                        visible: false
                    }).render();

                    Y.one('#edit').on('click', function(event) {
                        imageEditor.show();
                    });

                    Y.one('#getImageData').on('click', function(event) {
                        window.open(imageEditor.getImageData());
                    });
                }
            );
        </script>
    </body>
</html>